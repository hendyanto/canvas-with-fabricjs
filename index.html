<html>
  <head></head>
  <body>
    <script src="fabric.min.js"></script>
    <script src="bin/main.js"></script>
    <canvas width="500" height="500" style="border: 1px solid red;" id="c"></canvas>

    <script>

      var canvas = new fabric.Canvas("c");
      var createNewRectangle = function(){
        var i = new Rectangle(canvas, ...arguments);
        AnimationManager.register(i);
        return i;
      }

      AnimationManager.start();

    </script>

    <script>
        var a = createNewRectangle('red', 100);
        var b = createNewRectangle('blue', 100);
        var c = createNewRectangle('yellow', 100);
        var d = createNewRectangle('purple', 100);

        a.act('right', 12);
        a.act('stay', 24);
        b.act('down', 12);
        b.act('stay', 24);
        c.act('right', 24);
        c.act('down',12);
        d.act('down', 24);
        d.act('right',12);


        /**/
        a.act('fart');
        a.act('down', 24);
        b.act('right', 24);
        c.act('left', 24);
        d.act('up', 24);

        /**/

        a.act('right', 12);
        a.act('up', 12);

        b.act('up', 12);
        b.act('left', 12);

        c.act('down', 12);
        c.act('right', 12);

        d.act('left', 12);
        d.act('down', 12);

        /**/
        a.act('fart');
        a.act('up','left',12);
        b.act('down','left',12);
        c.act('up','right',12);
        d.act('down','right',12);

        /**/

        a.act('down',6);
        b.act('right',6);
        c.act('left', 6);
        d.act('up',6);

        /**/

        a.act('down', 'right', 6);
        b.act('up', 'right', 6);
        c.act('down', 'left', 6);
        d.act('up','left', 6);

        /**/

    </script>
  </body>
</html>
