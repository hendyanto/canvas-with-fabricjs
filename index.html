<html>
  <head></head>
  <body>
    <script src="fabric.min.js"></script>
    <script src="bin/main.js"></script>
    <canvas width="500" height="500" style="border: 1px solid red;" id="c"></canvas>

    <script>

      var canvas = new fabric.Canvas("c");
      var createNewRectangle = function(){
        // var i = new Rectangle(canvas, ...arguments);
        // animationManager.register(i);
        // return i;
      }

      var animationManager = {
        objects: [],
        register: function(obj){
          this.objects.push(obj);
        },
        start: function(){
          setInterval(function(){
            this.objects.forEach(function(el){
              el.triggerAnimation();
            });
          }.bind(this), 1);
        }
      };

      animationManager.start();

    </script>

    <script>
        var a = new Rectangle(canvas);
        animationManager.register(a);

        a.moveRight();
        a.moveDown();
        a.moveLeft();
        a.moveUp();
    </script>
  </body>
</html>
